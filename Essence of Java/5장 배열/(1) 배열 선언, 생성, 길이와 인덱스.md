

## 배열이란?


```
배열은 같은 타입의 여러 변수를 하나의 묶음으로 다루는 것을 의미한다.
```

중요한 것은 '같은 타입'이어야 한다. 서로 다른 타입의 변수들로 구성된 배열은 만들 수 없다. 그리고 변수와 달리 배열은 각 저장 공간이 연속적으로 배치되어 있다는 특징이 있다.


## 배열의 선언과 생성


아래는 배열을 **선언**하는 방법이다.

```
int[] score; // 타입[] 변수이름;
int score[]; // 타입 변수이름[]
```

두 방식이 가능하지만 대괄호가 타입의 일부라고 보는게 더 클린해보이기 때문에 전자를 선호한다.

배열을 선언한 다음에는 배열을 생성해야 한다. 
배열을 선언하면 생성된 배열을 다루기 위한 참조변수를 위한 공간이 만들어진다.
그리고 배열을 생성해야 값을 저장할 수 있는 공간이 만들어진다.


다음은 배열의 선언과 생성의 과정이다.

```
int[] score; // 선언
```

참조변수 선언 - 아직 데이터를 저장할 수 있는 공간은 마련되지 않음


```
score = new int[5]; // 생성
```

1. new 연산자에 의해 메모리의 빈 공간에 5개의 int형 데이터를 **저장할 수 있는 공간** 마련
2.  각 배열의 요소는 int 기본값 0으로 초기화 
3.  대입연산자 '='에 의해 **배열의 주소**가 int형 배열 참조변수 score에 저장된다.


## 배열의 길이와 인덱스


생성된 배열의 각 저장공간을 '배열의 요소'라고 하며, '배열이름{인덱스}' 의 형식으로 배열의 요소에 접근한다.

#### 인덱스

**인덱스는 배열의 요소마다 붙여진 일련변호**로 각  요소를 구별하는데 사용된다. 인덱스는 1이 아닌 0부터 시작한다.

배열을 다룰 때 주의할 점은 index 범위를 벗어난 값을 index로 사용하지 않아야 한다는 것이다.

```
public static void main(String[] args) {
	int[] score = new int[5];

	System.out.println(score[5]);
}

// Exception in thread "main" java.lang.ArrayIndexOutOfBoundsException: Index 5 out of bounds for length 5
```


위 코드는 배열의 범위를 벗어난 인덱스를 입력했기 때문에 컴파일 단계에서 문제를 잡을 수 있다. 하지만 인덱스에 변수가 들어가는 경우에는 컴파일이 아닌 실행 시에 에러가 발생한다. 아래는 예시 코드이다.

```
public static void main(String[] args) throws IOException {  
    int[] score = new int[5];  
  
	BufferedReader br = new BufferedReader(new InputStreamReader(System.in));  
    String inputValue = br.readLine();  
  
    int iter = Integer.parseInt(inputValue);  
  
    for (int i = 0; i < iter; i++) {  
        System.out.println(score[i]);  
    }  
}
```


만약 음수나 5를 넘어가는 값을 입력할 경우에 `ArrayIndexOutOfBoundsException` 가 발생하게 된다. 이러한 점을 주의하면 된다.


#### 배열의 길이
앞서 배운 내용에서 알 수 있듯이 대괄호 안에는 배열의 길이를 적는다. 이는 배열의 요소의 개수를 의미하고 int 타입 중 양의 정수가 들어간다. 물론 0도 된다.

```
int[] empties = new int[0];
```


#### 배열이름.length

자바에서는 JVM이 모든 배열의 길이를 별도로 관리한다. `배열이름.length` 를 통해서 배열의 길이에 대한 정보를 얻을 수 있다.


배열은 한번 생성하면 길이를 변경할 수 없다. 이미 생성된 배열의 길이는 변하지 않는다. 즉, `배열이름.length` 은 상수다.


#### 배열의 길이 변경
앞서 배열의 길이는 변경할 수 없다고 했다. 그렇기 때문에 더 큰 저장 공간이 필요할 때 다음과 같은 행위가 일어난다.

```
1. 더 큰 배열을 새로 생성
2. 기존의 배열 내용을 새로운 배열에 복사
```

이러한 작업들은 꽤나 비용이 많이든다. 그래서 처음부터 배열의 길이를 넉넉하게 잡아줘서 새로 배열을 생성해야하는 상황이 가능한 적게 발생하도록 해야 한다.

그렇다고 배열의 길이를 너무 크게 잡으면 메모리를 낭비하게 된다. 책에 따르면 기존의 2배 정도의 길이로 생성하라고 하는데 여기서 말하는 기존이라는 말에 의미가 모호하다.