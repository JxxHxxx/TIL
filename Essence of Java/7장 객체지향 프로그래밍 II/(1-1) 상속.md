
### 상속

상속이란 기존의 클래스를 재사용하여 새로운 클래스를 작성하는 것이다. `extend` 키워드를 사용하면 상속을 사용할 수 있다.


```
class Child extends Parent
```

`Child`  클래스가 `Parent` 클래스를 포함한다고 이해하면 된다.  다르게 말하면 `Child` 클래스는 `Parent` 클래스의 멤버를 상속 받는다. 상속 받는다고 무조건 사용할 수 있는 것은 아니다.

`private`  이라면 사용이 불가능하고 `default` 라면 패키지 구성에 따라 사용 가능성이 정해진다. 한편 `Child (자손 클래스)` 클래스는 `Parent (부모 클래스)` 에게 어떠한 영향도 주지 못한다.

자손 클래스는 부모 클래스의 멤버를 사용할 수 있다고 했는데 모든 기능을 사용할 수 있다는 것은 아니다.

```
- 생성자와 초기화 블럭은 상속되지 않는다.
```


### 클래스간의 관계 - 포함 관게

상속이외에도 클래스 간에 관계를 맺어 주는 방법이 있다. 마지막에 내가 상속에 대해 회의적인 의견을 많이 남겼는데 이에 대한 해결책으로 포함 관계를 적극적으로 사용한다. 여기서는 포함이라는 단어보다는 컴포지션을 사용하겠다.

일반적인 `MVC 패턴`이나 `DDD` 스타일로 프로젝트를 설계할 때, 컴포지션은 굉장히 자주 사용한다.

```
public class Order {  
    private Long orderId;  
    private Orderer orderer;  
    private OrderStatus orderStatus;  
    private Payment payment;  
    private LocalDateTime orderCreatedTime;  

	// 생성자 및 메서드
}  
  
class Orderer {  
    private Long ordererId;  
    private String name;  
    
	// 생성자 및 메서드
}  
  
class Payment {  
    private Account account;  
    private boolean isPaid;  
    private LocalDateTime paidTime;  
    
    // 생성자 및 메서드
}  
  
enum OrderStatus {  
    ORDER_COMPLETE, PAYMENT_COMPLETE,  
    ORDER_RECEIVED, DELIVERY_COMPLETE,  
    CANCELED;  

	// 메서드
}
```


이런식으로 다른 클래스 타입을 필드로 선언해서 사용할 수 있다.

### 클래스간의 관계 결정하기

포함 혹은 상속을 어떤 기준으로 세워야 하는지를 책에서 설며하고 있지만 개인적으로 상속은 최대한 피하려고 하는 편이다. 다만 책의 내용에서 알고 가면 좋은 내용이 있어 따로 섹터를 만들었다.

```
is - a : ~ 은 ~ 이다.
has - a : ~ 은 ~ 을 가지고 있다.
```

기술 블로그나 영상을 참고하다 보면 위 용어가 가끔 등장하는데 알고 가면 좋을 것 같다.

#### 여기는 개인적인 의견
---

*상속은 확실하게 포함 관계를 가지면 좋다.*

확실한 포함 관계란  부모 클래스의 메서드를 오버라이딩 하지 않은 채 사용하더라도 논리적 오류가 없어야 한다는 의미이다.

물론 오버라이딩해서 고쳐쓸 수 있지만 이런 경우가 많다면 굳이 사용할 필요가 있는지는 아직 잘 모르겠다.


*부모 클래스의 변경을 지양해야 한다.*

만약 상속을 했는데 어떤 기능을 추가하기 위해 부모 클래스에 변경이 일어난다면 끔찍한 일을 초래할 수 있다. 물론 테스트 코드가 작성되어 있겠지만 기존에 사용되고 있는 클래스를 변경한게 되면 우선은 컴파일 에러가 우리를 맞이할 것이며 잠재적으로 런타임 에러를 마주하게 될지도 모른다.


*재사용성은 얻을수도 있지만 가독성은 무조건 떨어진다.*

개발 경험이 적어서 혹은 설계를 잘 모르기 때문에 그럴지도 모르겠지만 난 상속을 거의 사용하지 않는다. 레이어드 테스트를 할 때 각 레이어에 필요한 클래스를 일일히 선언하는게 귀찮아서 (순수하게 재사용성만을 위해서) 사용하는 정도이다.

확실한건 상속을 하면 코드 분석을 한 단계 더 해야된다는 것은 분명하다.



위 내용들은 내가 직접 느낀 내용이기 때문에 정답은 아닐수도 있다. 하지만 그간의 경험 상 이러한 점을 느끼게 되었다.

----


