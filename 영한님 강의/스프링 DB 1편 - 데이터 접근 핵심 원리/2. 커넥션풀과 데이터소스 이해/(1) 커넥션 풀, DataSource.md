
### 커넥션 풀

데이터베이스 커넥션을 획득할 때는 아래 과정을 거친다.

```
1. 애플리케이션 로직은 DB 드라이버를 통해 커넥션을 조회한다.
2. DB 드라이버느 DB와 `TCP/IP` 커넥션이 연결되며, ID, PW와 기타 부가정보를 DB에 전달한다.
3. DB는 ID, PW를 통해 내부 인증을 완료하고 내부에 DB 세션을 생성한다.
4. DB는 커넥션 생성이 완료되었다는 응답을 보낸다.
5. DB 드라이버는 커넥션 객체를 생성해서 클라이언트에 반환한다.
```

여기서 핵심은 커넥션을 **새로** 만드는 것은 복잡한 과정/많은 시간을 소모해야 된다는 것이다.

이러한 단점을 보완하기 위해 *커넥션 풀*이라는 개념을 사용한다. 풀(Pool)이란 공간에 커넥션 객체를 모와두는 것이다. 즉, 커넥션은 이미 생성되어 있고 DB와 통신이 필요할 때 마다 풀에서 커넥션을 조회해서 가져오는 방식이다. 

참고로 `스프링 부트 2.0` 부터는 HikariCP 라는 커넥션 풀을 기본으로 사용하고 있다.


### DataSource

`DataSource`는 커넥션을 획득하는 방법에 대한 추상화(`Interface`)이다. 

1장에서는 커넥션을 획득할 때 `DriverManager` 객체를 이용했다. 또 앞서 `HikariCP` 를 통해 커넥션 풀에서 커넥션을 획득하기도 했다. 만약 `DriverManager` 를 통해 커넥션을 얻다가 `HikariCP`를 통해 커넥션을 얻으려면 어떻게 해야할까? 또는 `HikariCP`를 사용하다가 다른 커넥션 풀 라이브러리를 사용한다면 어떻게 해야할까? **코드를 변경해야 한다.**
연라
이러한 문제를 해결하기 위해 `DataSource` 인터페이스 명세를 만들게 되었다.