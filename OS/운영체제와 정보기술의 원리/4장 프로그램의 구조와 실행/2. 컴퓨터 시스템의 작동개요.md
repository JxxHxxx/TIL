CPU는 빠른 속도의 계산 능력을 가지고 있지만 어떠한 작업을 수행해야 하는지 스스로 결정하는 능력은 갖추고 있지 않다.

CPU는 매 시점 메모리의 특정 주소에 존재하는 명령을 하나씩 읽어와 그대로 실행할 뿐이다. 이때 CPU가 수행해야 할 메모리 주소를 담고 있는 레지스터를 프로그램 카운터(`Program Counter: PC`)라고 부른다. 즉 CPU는 매번 프로그램 카운터가 가리키는 메모리 위치의 명령을 처리하게 된다.

한편 컴퓨터는 프로그램이 수행되는 중에 디스크에서 파일을 읽어오기도 하고 키보드로부터 입력을 받거나 처리 결과 하면을 출력하기도 한다. 즉, CPU에 의해서만 시스템의 동작이 이루어지는 것은 아니다.

각 입출력 장치는 이들을 전담하는 작은 CPU(입출력 컨트롤러)와 메모리(로컬 버퍼)가 있다.

메모리에는 사용자 프로그램들과 운영체제가 같이 올라가 수행된다.

프로그램 카운터가 운영체제가 존재하는 부분을 가리키고 있다면 이 경우가 커널모드(`kernel mode`)에서 수행 중이라고 이야기한다. 반대로 사용자 프로그램을 가리키고 있으면 사용자모드(`user mode`)에서 CPU가 수행되고 있다고 이야기한다.

##### CPU 수행 명령
---
- 일반 명령
메모리에서 자료를 읽어 CPU에서 계산하고 결과를 메모리에 쓰는 일련의 명령

- 특권 명령
보안이 필요한 명령으로 입출력 장치, 타이머 등 각종 장치에 접근하는 명령, 컴퓨터 시스템에서는 이러한 특권 명령을 **항상 운영체제만이 수행**할 수 있도록 제한한다.

이 두 명령의 실행가능성은 CPU 내에 모드비트를 통해 체크된다. 추후 3장에서 다룬다.

##### 시스템 콜
---
사용자 프로그램이 실행되다 보면 특권명령의 수행이 필요한 경우가 있다. 예를 들어 디스크의 파일에 접근할 때이다. 이와 같은 경우 사용자 프로그램은 스스로 특권명령을 수행할 수 없으므로 **운영체제에게 특권명령의 대행을 요청한다.** 이처럼 운영체제에 서비스를 요청하는 것을 시스템 콜이라고 부른다.

##### CPU의 명령 흐름
---
CPU는 프로그램 카운터가 가리키는 메모리 위치의 명령만 계속 수행한다. 그래서 주변장치의 상태를 지속적으로 파악할 수 없다.

따라서 주변장치는 CPU의 도움이 필요한 경우 인터럽트를 발생시키기 위해 인터럽트 라인을 세팅한다. 

CPU는 매번 명령을 수행한 직후 인터럽트 라인을 체크해 서비스 요청이 들어왔는지 확인, 이때 인터럽트의 종류는 다양하기 때문에 인터럽트 발생 원인마다 라인을 다르게 해서 구분한다.

인터럽트가 발생하면 CPU는 해당 인터럽트를 처리하기 위한 루틴으로 넘어가서 **커널** 내의 인터럽트 처리 코드를 수행한다.